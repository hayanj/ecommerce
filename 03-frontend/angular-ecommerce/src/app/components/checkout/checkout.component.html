<div class="container mt-3 mb-3">
  <h2>Checkout</h2>
  <form [formGroup]="checkoutFormGroup" class="row g-3" (ngSubmit)="onSubmit()">

    <div formGroupName="customer">
      <h5>Customer's Information</h5>
      <div class="col-6">
        <label for="firstname" class="form-label">First name</label>
        <input formControlName="firstName" type="text" class="form-control" id="inputAddress" placeholder="First name">
      </div>
      <div class="col-6">
        <label for="lastname" class="form-label">Last name</label>
        <input formControlName="lastName" type="text" class="form-control" id="inputAddress2" placeholder="Last name">
      </div>
      <div class="col-md-6">
        <label for="inputEmail4" class="form-label">Email</label>
        <input formControlName="email" type="email" class="form-control" id="inputEmail4">
      </div>
    </div>

    <div formGroupName="shippingAddress">
      <h5>Shipping Address</h5>
      <div class="col-6">
        <label for="country" class="form-label">Country</label>
        <select class="form-control" formControlName="country" (change)="getStates('shippingAddress')">
          <option *ngFor="let country of countries" [ngValue]="country">
            {{ country.name }}
          </option>
        </select>
      </div>
      <div class="col-6">
        <label for="street" class="form-label">Street</label>
        <input formControlName="street" type="text" class="form-control" id="inputAddress2" placeholder="Street">
      </div>
      <div class="col-md-6">
        <label for="city" class="form-label">City</label>
        <input formControlName="city" type="text" class="form-control" id="inputEmail4">
      </div>
      <div class="col-6">
        <label for="state" class="form-label">State</label>
        <select class="form-control" formControlName="state">
          <option *ngFor="let state of shippingAddressStates" [ngValue] = "state" >
            {{ state.name }}
          </option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="zipCode" class="form-label">Zip Code</label>
        <input formControlName="zipCode" type="text" class="form-control" id="inputEmail4">
      </div>
    </div>

    <div class="form-check">
      <input class="form-check-input" type="checkbox" (change)="copyShippingAddressToBillingAddress($event)">
      <label class="form-check-label" for="defaultCheck1">
        Billing Address same as Shipping Address
      </label>
    </div>

    <div formGroupName="billingAddress">
      <h5>Billing Address</h5>
      <div class="col-6">
        <label for="country" class="form-label">Country</label>
        <select class="form-control" formControlName="country" (change)="getStates('billingAddress')">
          <option *ngFor="let country of countries" [ngValue]="country">
            {{ country.name }}
          </option>
        </select>
      </div>
      <div class="col-6">
        <label for="street" class="form-label">Street</label>
        <input formControlName="street" type="text" class="form-control" id="inputAddress2" placeholder="Street">
      </div>
      <div class="col-md-6">
        <label for="city" class="form-label">City</label>
        <input formControlName="city" type="text" class="form-control" id="inputEmail4">
      </div>
      <div class="col-6">
        <label for="state" class="form-label">State</label>
        <select class="form-control" formControlName="state">
          <option *ngFor="let state of billingAddressStates" [ngValue] = "state">
            {{ state.name }}
          </option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="zipCode" class="form-label">Zip Code</label>
        <input formControlName="zipCode" type="text" class="form-control" id="inputEmail4">
      </div>
    </div>

    <div formGroupName="creditCard">
      <h5>Credit Card</h5>

      <div class="col-6">
        <label for="cardType" class="form-label">Card Type</label>
        <select class="form-control" formControlName="cardType">
          <option>TO DO</option>
        </select>
      </div>

      <div class="col-6">
        <label for="nameOnCard" class="form-label">Name on Card</label>
        <input formControlName="nameOnCard" type="text" class="form-control" id="inputAddress2" placeholder="Street">
      </div>

      <div class="col-md-6">
        <label for="cardNumber" class="form-label">Card Number</label>
        <input formControlName="cardNumber" type="text" class="form-control" id="inputEmail4">
      </div>

      <div class="col-md-6">
        <label for="securityCode" class="form-label">Security Code</label>
        <input formControlName="securityCode" type="text" class="form-control" id="inputEmail4">
      </div>

      <div class="col-6">
        <label for="expirationMonth" class="form-label">Expiration Month</label>
        <select class="form-control" formControlName="expirationMonth">
          <option *ngFor="let month of creditCardMonths">
            {{ month }}
          </option>
        </select>
      </div>

      <div class="col-6">
        <label for="expirationYear" class="form-label">Expiration Year</label>
        <select class="form-control" formControlName="expirationYear" (change)="handleMonthsAndYears()">
          <option *ngFor="let year of creditCardYears">
            {{ year }}
          </option>
        </select>
      </div>

    </div>

    <div class="card mb-3">
      <div class="card-body">
        <i><h5>Review your order</h5></i>
        <strong>Total price:</strong> {{ totalPrice | currency: 'USD' }} <br>
        <strong>Shipping:</strong> FREE <br>
        <strong>Quantity:</strong> {{ totalQuantity }} <br>
      </div>
    </div>


    <div class="col-12">
      <button type="submit" class="btn btn-primary">Checkout</button>
    </div>

  </form>
</div>
